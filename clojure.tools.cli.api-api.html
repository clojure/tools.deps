<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>clojure.tools.cli.api - tools.deps.alpha 0.14.1206-SNAPSHOT API documentation</title>
    <link rel="icon" href="static/favicon.png" />
    <link rel="shortcut icon" href="static/favicon.png" />
    <link rel="stylesheet" href="static/clojure.css" type="text/css" media="all" />
    <link rel="stylesheet" href="static/wiki.css" type="text/css" media="all" />
    <link rel="stylesheet" href="static/internal.css" type="text/css" media="all" />
    <style>.menuWrapper{height: 36px;}</style>
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a href="index.html" id="Logo"><img src="static/clojure-icon.gif" width="100" height="100" alt="Clojure" /></a>
	<h1><a href="index.html" id="page-header" title="page header title">tools.deps.alpha API Reference</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <span class="toc-header"><span id="project-name">tools.deps.alpha</span> <span id="version">0.14.1206-SNAPSHOT</span> API</span><br />
    <ul>
      <li><a href="index.html" class="wiki_link">Overview</a></li>
      <li><a href="api-index.html" class="wiki_link">API Index</a></li>
    </ul>
    <div class="NamespaceTOC">
      <span class="toc-header">Namespaces</span>
      <ul id="left-sidebar-list">
        <li><a class="wiki_link" href="clojure.tools.cli.api-api.html">clojure.tools.cli.api</a></li><li><a class="wiki_link" href="clojure.tools.cli.help-api.html">clojure.tools.cli.help</a></li><li><a class="wiki_link" href="clojure.tools.deps.alpha-api.html">clojure.tools.deps.alpha</a></li>
      </ul>
    </div>
    
    <a class="wiki_link" href="https://clojure.org">Clojure Home</a>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div class="wiki wikiPage" id="content_view">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#toc0">Overview</a>
    
  </div><div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#"></a>
    
  </div><div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#"></a>
    
  </div><div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#var-section">Vars and Functions</a>
    <div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.tools.cli.api/aliases" class="toc-entry-anchor">aliases</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.tools.cli.api/basis" class="toc-entry-anchor">basis</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.tools.cli.api/find-versions" class="toc-entry-anchor">find-versions</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.tools.cli.api/git-resolve-tags" class="toc-entry-anchor">git-resolve-tags</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.tools.cli.api/list" class="toc-entry-anchor">list</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.tools.cli.api/mvn-install" class="toc-entry-anchor">mvn-install</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.tools.cli.api/mvn-pom" class="toc-entry-anchor">mvn-pom</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.tools.cli.api/prep" class="toc-entry-anchor">prep</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#clojure.tools.cli.api/tree" class="toc-entry-anchor">tree</a>
      
    </div>
  </div><div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#"></a>
    
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="clojure.tools.cli.api">clojure.tools.cli.api</span>
  - <span id="header-project">tools.deps.alpha</span> <span id="header-version">0.14.1206-SNAPSHOT</span><span id="header-status-block"> (<span id="header-status">in development</span>)</span>
  </h1>

<br />Full namespace name: <span id="long-name">clojure.tools.cli.api</span>
<p></p>
<h2>Overview</h2>

<pre id="namespace-docstr">This api provides functions that can be executed from the Clojure tools using -X:deps.</pre>


<br />



<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.cli.api/aliases">aliases</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (aliases params)
</pre>
    <pre id="var-docstr">List all aliases available for use with the CLI using -M, -X or -T execution
(note that some aliases may be usable with more than one of these). Also, the
deps.edn sources of the alias are specified.

This program accepts the same basis-modifying arguments from the `basis` program.
Each dep source value can be :standard, a string path, a deps edn map, or nil.
Sources are merged in the order - :root, :user, :project, :extra.

For example, to print only aliases defined in this project:
  clj -X:deps aliases :root nil :user nil

Basis options:
  :root    - dep source, default = :standard
  :user    - dep source, default = :standard
  :project - dep source, default = :standard ("./deps.edn")
  :extra   - dep source, default = nil

The aliases are printed to the console.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/tools.deps.alpha/blob/a035462cbe15a84faac29e17d0bc9fe8f080a4cc/src/main/clojure/clojure/tools/cli/api.clj#L176">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.cli.api/basis">basis</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (basis params)
</pre>
    <pre id="var-docstr">Create a basis from a set of deps sources and a set of aliases. By default, use
root, user, and project deps and no argmaps (essentially the same classpath you get by
default from the Clojure CLI).

Each dep source value can be :standard, a string path, a deps edn map, or nil.
Sources are merged in the order - :root, :user, :project, :extra.

Aliases refer to argmaps in the merged deps that will be supplied to the basis
subprocesses (tool, resolve-deps, make-classpath-map).

The following subprocess argmap args can be provided:
  Key                  Subproc             Description
  :replace-deps        tool                Replace project deps
  :replace-paths       tool                Replace project paths
  :extra-deps          resolve-deps        Add additional deps
  :override-deps       resolve-deps        Override coord of dep
  :default-deps        resolve-deps        Provide coord if missing
  :extra-paths         make-classpath-map  Add additional paths
  :classpath-overrides make-classpath-map  Replace lib path in cp

Options:
  :root    - dep source, default = :standard
  :user    - dep source, default = :standard
  :project - dep source, default = :standard ("./deps.edn")
  :extra   - dep source, default = nil
  :aliases - coll of aliases of argmaps to apply to subprocesses

Returns {:basis basis}, which basis is initial deps edn map plus these keys:
  :resolve-args - the resolve args passed in, if any
  :classpath-args - the classpath args passed in, if any
  :libs - lib map, per resolve-deps
  :classpath - classpath map per make-classpath-map
  :classpath-roots - vector of paths in classpath order</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/tools.deps.alpha/blob/a035462cbe15a84faac29e17d0bc9fe8f080a4cc/src/main/clojure/clojure/tools/cli/api.clj#L40">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.cli.api/find-versions">find-versions</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (find-versions {:keys [lib tool], :as args})
</pre>
    <pre id="var-docstr">Find available tool versions given either a lib (with :lib) or
existing installed tool (with :tool). If lib, check all registered
procurers and print one coordinate per line when found.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/tools.deps.alpha/blob/a035462cbe15a84faac29e17d0bc9fe8f080a4cc/src/main/clojure/clojure/tools/cli/api.clj#L416">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.cli.api/git-resolve-tags">git-resolve-tags</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (git-resolve-tags _)
</pre>
    <pre id="var-docstr">Resolve git tags in deps.edn git deps to full shas.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/tools.deps.alpha/blob/a035462cbe15a84faac29e17d0bc9fe8f080a4cc/src/main/clojure/clojure/tools/cli/api.clj#L286">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.cli.api/list">list</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (list params)
</pre>
    <pre id="var-docstr">List all deps on the classpath, optimized for knowing the final set of included
libs. The `tree` program can provide more info on why or why not a particular
lib is included.

Licenses will be printed in short form by default but can also be listed as
in :full or :none for none at all using the :license key.

By default, :format will :print to the console in a human friendly tree. Use
:edn mode to print the tree to edn.

This program accepts the same basis-modifying arguments from the `basis` program.
Each dep source value can be :standard, a string path, a deps edn map, or nil.
Sources are merged in the order - :root, :user, :project, :extra.

Options:
  :license - :full, :short (default), :none

Output mode options:
  :format    :print (default) or :edn

Basis options:
  :root    - dep source, default = :standard
  :user    - dep source, default = :standard
  :project - dep source, default = :standard ("./deps.edn")
  :extra   - dep source, default = nil
  :aliases - coll of kw aliases of argmaps to apply to subprocesses

The libs are printed to the console.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/tools.deps.alpha/blob/a035462cbe15a84faac29e17d0bc9fe8f080a4cc/src/main/clojure/clojure/tools/cli/api.clj#L230">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.cli.api/mvn-install">mvn-install</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (mvn-install {:keys [jar pom lib version classifier local-repo]})
</pre>
    <pre id="var-docstr">Install a jar and pom to the Maven local cache.
The pom file must either be supplied, or generated based
on provided lib/version/classifier, or provided inside the jar.
The group/artifact/version coordinate will be pulled from the
pom source as above.

Required:
  :jar (reqired) - path to jar file (embedded pom used by default)

Explicit pom options:
  :pom - path to pom file (pom in jar ignored)

Generated pom options:
  :lib - qualified symbol like my.org/lib
  :version - string
  :classifier - string

Other options:
  :local-repo (optional) - path to local repo (default = ~/.m2/repository)

Execute ad-hoc:
  clj -X:deps mvn/install :jar '"foo-1.2.3.jar"'</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/tools.deps.alpha/blob/a035462cbe15a84faac29e17d0bc9fe8f080a4cc/src/main/clojure/clojure/tools/cli/api.clj#L375">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.cli.api/mvn-pom">mvn-pom</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (mvn-pom {:keys [argmaps], :as opts})
</pre>
    <pre id="var-docstr">Sync or create pom.xml from deps.edn.

This program accepts the same basis-modifying arguments from the `basis` program.
Each dep source value can be :standard, a string path, a deps edn map, or nil.
Sources are merged in the order - :root, :user, :project, :extra.

Basis options:
  :root    - dep source, default = :standard
  :user    - dep source, default = :standard
  :project - dep source, default = :standard ("./deps.edn")
  :extra   - dep source, default = nil
  :aliases - coll of kw aliases of argmaps to apply to subprocesses

Deprecated options (use the basis :aliases above instead):
  :argmaps - vector of aliases to combine into argmaps to resolve-deps and make-classpath</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/tools.deps.alpha/blob/a035462cbe15a84faac29e17d0bc9fe8f080a4cc/src/main/clojure/clojure/tools/cli/api.clj#L293">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.cli.api/prep">prep</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (prep {:keys [force log], :or {log :info}, :as params})
</pre>
    <pre id="var-docstr">Prep the unprepped libs found in the transitive lib set of basis.

This program accepts the same basis-modifying arguments from the `basis` program.
Each dep source value can be :standard, a string path, a deps edn map, or nil.
Sources are merged in the order - :root, :user, :project, :extra.

Options:
  :basis - basis to prep. If not provided, use (create-basis nil).
  :force - flag on whether to force prepped libs to re-prep (default = false)
  :log - :none, :info (default), or :debug

Basis options:
  :root    - dep source, default = :standard
  :user    - dep source, default = :standard
  :project - dep source, default = :standard ("./deps.edn")
  :extra   - dep source, default = nil
  :aliases - coll of kw aliases of argmaps to apply to subprocesses

Returns params used.</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/tools.deps.alpha/blob/a035462cbe15a84faac29e17d0bc9fe8f080a4cc/src/main/clojure/clojure/tools/cli/api.clj#L78">Source</a>
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="clojure.tools.cli.api/tree">tree</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (tree opts)
</pre>
    <pre id="var-docstr">Print deps tree for the current project's deps.edn built from either the
a basis, or if provided, the trace file.

This program accepts the same basis-modifying arguments from the `basis` program.
Each dep source value can be :standard, a string path, a deps edn map, or nil.
Sources are merged in the order - :root, :user, :project, :extra.

By default, :format will :print to the console in a human friendly tree. Use
:edn mode to print the tree to edn.

In print mode, deps are printed with prefix of either . (included) or X (excluded).
A reason code for inclusion/exclusion may be added at the end of the line.

Basis options:
  :root    - dep source, default = :standard
  :user    - dep source, default = :standard
  :project - dep source, default = :standard ("./deps.edn")
  :extra   - dep source, default = nil
  :aliases - coll of kw aliases of argmaps to apply to subprocesses

Input options (if provided, basis options ignored):
  :file      Path to trace.edn file (from clj -Strace) to use in computing the tree

Output mode:
  :format    :print (default) or :edn

Print output mode modifiers:
  :indent    Indent spacing (default = 2)
  :hide-libs Set of libs to hide as deps (if not top dep), default = #{org.clojure/clojure}</pre>
    <pre id="var-specs"></pre>
    
    
    <a id="var-source" href="https://github.com/clojure/tools.deps.alpha/blob/a035462cbe15a84faac29e17d0bc9fe8f080a4cc/src/main/clojure/clojure/tools/cli/api.clj#L117">Source</a>
  </div>
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div id="copyright" style="text-align: center;">Copyright 2007-2019 by Rich Hickey and the various contributors</div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a href="http://www.tomhickey.com" title="Visit Tom Hickey's website.">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>